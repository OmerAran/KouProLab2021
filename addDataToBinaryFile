# binary dosyaya veri ekleme ve okuma
# aynı zamanda dinamik bellek yönetimi konusunda ilerledik , çalışıyor mu tam emin olmamakla birlikte normal kullanımda hata vermedi hiç.

#include <stdio.h>
#include <stdlib.h>
struct sinif{
    int no ;
    int dersKodu ;
    int puan ;

};

struct sinif* ogrenciler;
int main() {
    FILE *ogrFile ;
    ogrFile= fopen("/Users/omeraran/desktop/ogrenciler.bin", "wb");
    ogrenciler = (struct sinif*)malloc(100*sizeof(struct sinif));
    int boyut=50 ;
    for (int i =0; i<boyut;i++ ) {
        ogrenciler[i].no = 10+i ;
        ogrenciler[i].dersKodu=rand()%3 ;
        ogrenciler[i].puan =rand()%100 ;
        fprintf(ogrFile, "%d \t %d \t%d\n",ogrenciler[i].no ,ogrenciler[i].dersKodu,ogrenciler[i].puan);
    }

    fclose(ogrFile) ;

    ogrFile= fopen("/Users/omeraran/desktop/ogrenciler.bin", "rb");

    fread(&ogrenciler[2].no,1,1 ,ogrFile);
    fread(&ogrenciler[2].dersKodu,1,1 ,ogrFile);
    fread(&ogrenciler[2].puan,1,1 ,ogrFile);



    fclose(ogrFile);


    //printf("%d \t %d \t %d\n",ogrenciler[49].no,ogrenciler[49].dersKodu,ogrenciler[49].puan);

    free(ogrenciler);
    return 0 ;
}
